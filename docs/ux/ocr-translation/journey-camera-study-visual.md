# Journey Map: Camera Study Workflow - Photograph Sanskrit Text for Translation

## User Context
**Persona:** Maria Santos, spiritual practitioner studying Yoga Sutras at home
**Job to Be Done:** Access sacred Devanagari teachings without being blocked by unfamiliar script
**Trigger:** Encounters 4-line sutra in physical book that she cannot read or type
**Environment:** Home desk with book lamp, phone nearby, study notebook open

---

## Emotional Arc Overview

```
Empowerment/Understanding
        |                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        |                                      â”Œâ”€â”€â”€â”€â”¤   LEARNING     â”‚
        |                                 â”Œâ”€â”€â”€â”€â”¤    â”‚  (Gratitude)   â”‚
        |                            â”Œâ”€â”€â”€â”€â”¤    â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        |                       â”Œâ”€â”€â”€â”€â”¤    â”‚  VERIFICATION
        |                  â”Œâ”€â”€â”€â”€â”¤    â”‚    â”‚  (Reassured)
Neutral |â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¤    â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜
        |   INITIATE  â”‚    â”‚  CAPTURE
        |  (Hopeful)  â”‚    â”‚  (Trusting)
        |             â””â”€â”€â”€â”€â”˜
        |
Blocked/Frustrated
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Time
             Start    Camera   Photo   OCR      Verify    Translate   Copy/Continue
```

**Key Emotional Transitions:**
- **Blocked â†’ Hopeful:** Opens app, sees clear "Take Photo" option
- **Hopeful â†’ Trusting:** Camera opens smoothly, guidance frame shows where to position text
- **Trusting â†’ Patient:** Takes photo, sees processing feedback, knows it's working
- **Patient â†’ Reassured:** Sees high confidence score (94%), extracted text matches image
- **Reassured â†’ Empowered:** Gets accurate translation with word breakdown
- **Empowered â†’ Grateful:** Copies to notes, barrier removed, can continue spiritual study

---

## Journey Steps with TUI Mockups

### Step 1: Initiate Scan
**Emotional State:** Blocked by Devanagari â†’ Hopeful (sees solution)

**Context:** Maria encounters sutra 1.2 in her Yoga Sutras book. She cannot read the Devanagari script.

**Mobile Screen:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sanskrit Student           â˜°       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚   What would you like to            â”‚
â”‚   translate today?                  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚    ğŸ“  Translate Text       â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚    Enter or paste Sanskrit  â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚    ğŸ“·  Take Photo           â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚    Scan text from book      â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  ğŸ’¡ Tip: Use bright, even          â”‚
â”‚     lighting for best results       â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**User Action:** Taps "Take Photo"

**Observable Artifacts:**
- Button label: "Take Photo"
- Helper text: "Scan text from book"
- One-time tip about lighting

---

### Step 2: Position Camera
**Emotional State:** Trusting (system is guiding me)

**Context:** Camera opens, Maria sees guidance frame showing where to position the sutra text.

**Mobile Screen (Camera View):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back                      Flash  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚         Camera viewfinder           â”‚
â”‚                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚                         â”‚     â”‚
â”‚    â”‚  Position text within   â”‚     â”‚
â”‚    â”‚  this frame             â”‚     â”‚
â”‚    â”‚                         â”‚     â”‚
â”‚    â”‚  Best results:          â”‚     â”‚
â”‚    â”‚  photograph 2-6 lines   â”‚     â”‚
â”‚    â”‚                         â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚
â”‚         [Book page visible          â”‚
â”‚          through camera]            â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              âšª                     â”‚
â”‚           [Capture]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**User Action:**
1. Positions phone over sutra in book
2. Adjusts distance until text fills frame (4 lines visible)
3. Taps capture button

**Observable Artifacts:**
- ${cameraFrame}: Landscape rectangle (70% screen width)
- ${guidanceText}: "Position text within this frame"
- ${recommendationText}: "Best results: photograph 2-6 lines"
- ${captureButton}: Large circular button at bottom

---

### Step 3: Preview Photo
**Emotional State:** Checking quality (cautious but confident)

**Context:** Photo captured, Maria previews to ensure text is clear and readable.

**Mobile Screen:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Take Photo                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  [Photo Preview - Full Screen]      â”‚
â”‚                                     â”‚
â”‚   à¤¯à¥‹à¤—à¤¶à¥à¤šà¤¿à¤¤à¥à¤¤à¤µà¥ƒà¤¤à¥à¤¤à¤¿à¤¨à¤¿à¤°à¥‹à¤§à¤ƒà¥¤           â”‚
â”‚   (Devanagari text visible          â”‚
â”‚    in captured photo)               â”‚
â”‚                                     â”‚
â”‚  (Pinch to zoom and check focus)    â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Is the text clear?                 â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              â”‚  â”‚             â”‚ â”‚
â”‚  â”‚   Retake     â”‚  â”‚  Use This   â”‚ â”‚
â”‚  â”‚              â”‚  â”‚   Photo     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**User Action:**
- Pinches to zoom, checks text is crisp and in focus
- Confirms: Taps "Use This Photo"

**Observable Artifacts:**
- ${photoPreview}: Full-screen image preview
- ${qualityPrompt}: "Is the text clear?"
- ${retakeButton}: Secondary action
- ${confirmButton}: Primary action "Use This Photo"

---

### Step 4: Processing (OCR + Translation)
**Emotional State:** Patient (trusting system is working)

**Context:** Photo submitted, system processing OCR and translation. Maria waits.

**Mobile Screen:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Translating...                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚                                     â”‚
â”‚          âŸ³                          â”‚
â”‚                                     â”‚
â”‚    Reading Devanagari text...       â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”‚    â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘ 65%                â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Processing Steps (invisible to user but happening):**
1. Upload photo to server
2. Store via InMemoryImageStorage
3. Pass to GoogleVisionOcrEngine
4. Extract Devanagari text
5. Calculate confidence score
6. Pass to NormalizingTranslationService
7. Convert Devanagari â†’ IAST
8. Translate with Claude
9. Generate word breakdown
10. Cleanup stored image

**Expected Duration:** 3-8 seconds

**Observable Artifacts:**
- ${processingSpinner}: Animated spinner
- ${statusMessage}: "Reading Devanagari text..."
- ${progressBar}: Visual progress (65%)

---

### Step 5: Verification (Trust Building)
**Emotional State:** Reassured (high confidence, can verify)

**Context:** OCR complete, Maria sees extracted text with high confidence score. She can compare to original.

**Mobile Screen:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ“ Translation Complete             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  OCR Confidence: 94% âœ“              â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” High         â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Extracted Text              â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚ à¤¯à¥‹à¤—à¤¶à¥à¤šà¤¿à¤¤à¥à¤¤à¤µà¥ƒà¤¤à¥à¤¤à¤¿à¤¨à¤¿à¤°à¥‹à¤§à¤ƒà¥¤     â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚ [ğŸ“ Copy]                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ IAST                        â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚ yogaÅ›-citta-vá¹›tti-nirodhaá¸¥  â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚ [ğŸ“ Copy]                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â–¼ Show Original Photo              â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚                                     â”‚
â”‚  Translation â–¼                      â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**User Action:**
- Reviews extracted Devanagari (matches what she sees in book)
- Sees high confidence score (reassured)
- Optionally taps "Show Original Photo" to compare side-by-side

**Observable Artifacts:**
- ${ocrConfidence}: 94%
- ${confidenceIndicator}: Green progress bar + "High" label
- ${extractedDevanagari}: "à¤¯à¥‹à¤—à¤¶à¥à¤šà¤¿à¤¤à¥à¤¤à¤µà¥ƒà¤¤à¥à¤¤à¤¿à¤¨à¤¿à¤°à¥‹à¤§à¤ƒà¥¤"
- ${iastText}: "yogaÅ›-citta-vá¹›tti-nirodhaá¸¥"
- ${copyButtons}: One for Devanagari, one for IAST
- ${originalPhotoToggle}: Expandable section to show original image

---

### Step 6: Translation & Learning
**Emotional State:** Empowered (understanding achieved) â†’ Grateful

**Context:** Maria expands translation section, sees word-by-word breakdown and alternative translations.

**Mobile Screen (scrolled down):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Translation â–²                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Primary Translation:               â”‚
â”‚  "Yoga is the cessation of the      â”‚
â”‚   fluctuations of consciousness."   â”‚
â”‚                                     â”‚
â”‚  [ğŸ“ Copy Translation]              â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚                                     â”‚
â”‚  Word-by-Word Breakdown:            â”‚
â”‚                                     â”‚
â”‚  â€¢ yogaá¸¥                            â”‚
â”‚    â†’ yoga, union, spiritual path    â”‚
â”‚                                     â”‚
â”‚  â€¢ citta                            â”‚
â”‚    â†’ consciousness, mind-stuff      â”‚
â”‚                                     â”‚
â”‚  â€¢ vá¹›tti                            â”‚
â”‚    â†’ fluctuations, modifications    â”‚
â”‚                                     â”‚
â”‚  â€¢ nirodhaá¸¥                         â”‚
â”‚    â†’ cessation, restraint, control  â”‚
â”‚                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚                                     â”‚
â”‚  Alternative Translations:          â”‚
â”‚                                     â”‚
â”‚  "Yoga is the stilling of the       â”‚
â”‚   movements of the mind."           â”‚
â”‚                                     â”‚
â”‚  "Union is achieved through the     â”‚
â”‚   restraint of mental activity."    â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Translate Another Passage   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**User Action:**
- Reads translation
- Reviews word breakdown for deeper understanding
- Taps "Copy Translation" to paste into study notebook
- Taps "Translate Another Passage" to scan next sutra

**Observable Artifacts:**
- ${primaryTranslation}: Main translation text
- ${wordBreakdown}: Array of {word, meanings[]}
- ${alternativeTranslations}: Array of alternative phrasings
- ${copyTranslationButton}: Copy full translation
- ${nextPassageButton}: Quick restart for next scan

---

## Error Path: Low Confidence Warning

**Context:** Maria's second photo was taken in dim light, OCR confidence is 68%.

**Mobile Screen (Step 5 - Verification with Warning):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ Translation Complete            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  OCR Confidence: 68% âš ï¸             â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ Medium        â”‚
â”‚                                     â”‚
â”‚  âš ï¸ Low confidence detected         â”‚
â”‚     The image may be blurry or      â”‚
â”‚     poorly lit. Please verify       â”‚
â”‚     the extracted text carefully.   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Retake with Better Lighting  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  Or continue anyway â–¼               â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Extracted Text              â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚ à¤¯à¥‹à¤—à¤¶à¥à¤šà¤¿à¤¤à¥à¤¤à¤µà¥ƒà¤¤à¤¤à¤¨à¤°à¥‹à¤§à¤ƒà¥¤        â”‚   â”‚
â”‚  â”‚ (verify carefully)          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  Translation â–¼                      â”‚
â”‚  (Please verify against original)   â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Emotional State:** Cautious (system warns me) â†’ Supported (clear guidance)

**User Decision:**
- **Option A:** Taps "Retake with Better Lighting" â†’ returns to camera
- **Option B:** Accepts medium confidence, proceeds to verify extracted text carefully

**Observable Artifacts:**
- ${ocrConfidence}: 68%
- ${confidenceIndicator}: Yellow/orange bar + "Medium" label
- ${warningMessage}: "Low confidence detected. The image may be blurry or poorly lit."
- ${retakeSuggestion}: Primary action button "Retake with Better Lighting"
- ${continueOption}: Secondary collapsed option "Or continue anyway"

---

## Error Path: Upload Failure (File Too Large)

**Context:** Maria tried uploading a high-res photo (6MB), exceeds 5MB limit.

**Mobile Screen:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âŒ Upload Failed                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚                                     â”‚
â”‚          âš ï¸                         â”‚
â”‚                                     â”‚
â”‚  Image too large (6.2 MB)           â”‚
â”‚  Maximum file size: 5 MB            â”‚
â”‚                                     â”‚
â”‚  Suggestions:                       â”‚
â”‚  â€¢ Use lower camera resolution      â”‚
â”‚  â€¢ Photograph smaller text area     â”‚
â”‚    (2-6 lines recommended)          â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      Try Again               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      Adjust Camera Settings  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Emotional State:** Frustrated (blocked) â†’ Supported (clear actions)

**User Action:** Taps "Try Again", adjusts camera resolution, retakes photo

**Observable Artifacts:**
- ${errorType}: "Upload Failed"
- ${errorMessage}: "Image too large (6.2 MB). Maximum file size: 5 MB"
- ${actionableGuidance}: Bulleted list of suggestions
- ${retryButton}: "Try Again"
- ${settingsButton}: "Adjust Camera Settings" (deep link to camera settings)

---

## Error Path: Camera Permission Denied

**Context:** Maria denies camera permission when browser/app requests it.

**Mobile Screen:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Camera Access Required              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚          ğŸ“·ğŸš«                       â”‚
â”‚                                     â”‚
â”‚  Camera access is needed to         â”‚
â”‚  photograph Sanskrit text.          â”‚
â”‚                                     â”‚
â”‚  Please enable camera permission    â”‚
â”‚  in your browser settings.          â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Open Settings              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Or Upload Image Instead    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â† Back to Home                     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Emotional State:** Blocked (permission issue) â†’ Guided (alternative path)

**User Action:**
- **Option A:** Taps "Open Settings", enables camera, returns to app
- **Option B:** Taps "Upload Image Instead" (fallback to gallery upload)

**Observable Artifacts:**
- ${errorType}: "Camera Access Required"
- ${permissionMessage}: "Camera access is needed to photograph Sanskrit text"
- ${settingsButton}: "Open Settings" (deep link)
- ${fallbackButton}: "Or Upload Image Instead"
- ${backButton}: "â† Back to Home"

---

## Shared Artifacts Across Journey

| Artifact | Source Step | Used In Steps | Format | Notes |
|----------|-------------|---------------|--------|-------|
| ${originalImage} | Step 3 (Capture) | Step 5 (Verification toggle) | JPEG/PNG Buffer | Stored in InMemoryImageStorage, deleted after processing |
| ${extractedDevanagari} | Step 4 (OCR) | Step 5 (Display), Step 6 (Reference) | String (Devanagari) | Raw OCR output from Google Vision |
| ${ocrConfidence} | Step 4 (OCR) | Step 5 (Trust indicator) | Float 0.0-1.0 | Determines green/yellow/red UI treatment |
| ${iastText} | Step 4 (Normalization) | Step 5 (Display), Step 6 (Reference) | String (IAST) | Converted from Devanagari via Sanscript |
| ${wordBreakdown} | Step 4 (Translation) | Step 6 (Learning) | Array<{word, meanings[]}> | LLM-generated word analysis |
| ${primaryTranslation} | Step 4 (Translation) | Step 6 (Display) | String (English) | Main translation text |
| ${alternativeTranslations} | Step 4 (Translation) | Step 6 (Display) | Array<String> | Alternative phrasings |

---

## Integration Checkpoints

**Checkpoint 1: Camera â†’ Preview**
- **Handoff:** Camera capture produces ${originalImage} buffer
- **Validation:** Image format (JPEG/PNG), size (<5MB)
- **Failure Mode:** Invalid format â†’ show error, retry

**Checkpoint 2: Preview â†’ OCR**
- **Handoff:** ${originalImage} passed to InMemoryImageStorage.store()
- **Validation:** Storage returns ${imageHandle}
- **Failure Mode:** Storage fails â†’ show "Upload failed", retry

**Checkpoint 3: OCR â†’ Normalization**
- **Handoff:** ${extractedDevanagari} + ${ocrConfidence} passed to script normalizer
- **Validation:** Confidence > 10% (reject if no text detected)
- **Failure Mode:** <10% confidence â†’ show "No Devanagari text detected"

**Checkpoint 4: Normalization â†’ Translation**
- **Handoff:** ${iastText} passed to TranslationService
- **Validation:** IAST text is valid Sanskrit
- **Failure Mode:** Translation fails â†’ show error with extracted text (user can still copy)

**Checkpoint 5: Translation â†’ Display**
- **Handoff:** ${wordBreakdown}, ${primaryTranslation}, ${alternativeTranslations} rendered in UI
- **Validation:** All fields populated
- **Failure Mode:** Partial failure â†’ show what's available, mark missing fields

---

## Success Criteria for Journey

**Journey is successful when:**
1. âœ… User photographs sutra in <30 seconds (camera launch to capture)
2. âœ… OCR confidence â‰¥90% for clear images
3. âœ… User can visually verify extracted text matches original
4. âœ… Translation appears within 8 seconds of photo submission
5. âœ… User can copy IAST and translation to study notes
6. âœ… Low confidence images show actionable retake guidance
7. âœ… Upload failures provide clear recovery paths
8. âœ… User feels empowered (barrier removed) not anxious (tech friction)

---

## Quality Gates

**Emotional Coherence:**
- âœ… No jarring transitions (blocked â†’ hopeful â†’ trusting â†’ reassured â†’ empowered)
- âœ… Anxiety is addressed proactively (confidence score, warnings, guidance)
- âœ… Reverence for sacred texts maintained (no flippant language, accurate extraction critical)

**Horizontal Integration:**
- âœ… All ${artifacts} have single source of truth
- âœ… No orphaned data (everything tracked from capture â†’ cleanup)
- âœ… Cleanup guaranteed even on error (finally block in OcrTranslationService)

**CLI UX Compliance (Mobile Edition):**
- âœ… Progressive disclosure (don't show translation until verification complete)
- âœ… Clear affordances (buttons labeled with outcomes: "Use This Photo" not "OK")
- âœ… Material honesty (mobile camera is a camera, not trying to be a scanner)

---

**Journey Map Status:** COMPLETE
**Next Artifact:** journey-camera-study.yaml (Journey Schema)
